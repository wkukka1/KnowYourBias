<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KnowYourBias</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/CardItem.css">
    <link rel="stylesheet" href="/static/Hero.css">
    <link rel="stylesheet" href="/static/Button.css">
    <script src="main.js"></script>
  </head>
  <body>
    <div id="root">
      <div class="hero-container">
        <div class="title">
          <img src="/static/logo.png" alt="logo" class="logo"></img>
          <h1>KnowYourBias</h1>
        </div>
        <h2>Select what you would like to paste:</h2>
        <div class="hero-btns">
          <button type="button" class="btn--primary btn btn--large">
            Article
          </button>
          <button type="button" class="btn--primary btn btn--large">
            URL
          </button>
        </div>
        <p>
          <span>
            KnowYourBias is a website that analyzes articles from a wide range
            of news sources to determine their political biases.
          </span>
          <span>
            It uses machine learning algorithms to provide users with an
            objective assessment of the article's political leanings.
          </span>
          <span>
            The website aims to promote a more informed public discourse and
            encourage critical thinking in the consumption of online news.
          </span>
        </p>
      </div>

      <hr></hr>

      <div id="input">
        <div id="article-type">
          <h2>Paste Article Here:</h2>
          <button id="paste-article" onClick="toggleInputType('article')">
            Article
          </button>
          <button id="paste-link" onClick="toggleInputType('link')">
            Link
          </button>
        </div>
        <form action="/url" method="POST">
          <input type="text" name="article-url">
          <textarea
            placeholder="Paste article content here..."
            rows={5}
            cols={10}
            wrap="soft"
            type="text"
            id="pasted-article"
            name="article-contents"
          ></textarea>
          <br></br>
          <input type="submit" value="Analyze"></input>
        </form>
      </div>

      <hr></hr>

      <div class="results">
        <div class="results-txt">
          <h3>This article is: </h3>
          <h1>Center Left</h1>
          <p>Blah blah blah</p>
        </div>

        <div class="alternative-articles">
          <h2>Alternative Articles</h2>
          <div id="carouselExample" class="carousel slide">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <div class="d-block w-100">
                  <div class="cards">
                    <li class="cards__item">
                      <a href="" class="cards__item__link">
                        <figure class="cards__item__pic-wrap" data-category=Center>
                          <img src="/static/logo.png" alt="Videogame" class="cards__item__img" />
                        </figure>
                        <div class="cards__item__info">
                          <h1 class="cards__item__text__main">asdasd</h1>
                          <h5 class="cards__item__text__desc">asdasdasdassad</h5>
                        </div>
                      </a>
                    </li>
                  </div>
                </div>
              </div>
              <div class="carousel-item">
                <div class="d-block w-100">
                  <div class="cards">
                    <li class="cards__item">
                      <a href="" class="cards__item__link">
                        <figure class="cards__item__pic-wrap" data-category=Center>
                          <img src="/static/logo.png" alt="Videogame" class="cards__item__img" />
                        </figure>
                        <div class="cards__item__info">
                          <h1 class="cards__item__text__main">asdasd</h1>
                          <h5 class="cards__item__text__desc">asdasdasdassad</h5>
                        </div>
                      </a>
                    </li>
                  </div>
                </div>
              </div>
              <div class="carousel-item">
                <div class="d-block w-100">
                  <div class="cards">
                    <li class="cards__item">
                      <a href="" class="cards__item__link">
                        <figure class="cards__item__pic-wrap" data-category=Center>
                          <img src="/static/logo.png" alt="Videogame" class="cards__item__img" />
                        </figure>
                        <div class="cards__item__info">
                          <h1 class="cards__item__text__main">asdasd</h1>
                          <h5 class="cards__item__text__desc">asdasdasdassad</h5>
                        </div>
                      </a>
                    </li>
                  </div>
                </div>
              </div>
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#carouselExample"
              data-bs-slide="prev"
            >
              <span
                class="carousel-control-prev-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#carouselExample"
              data-bs-slide="next"
            >
              <span
                class="carousel-control-next-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.tsx"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
    $(document).ready(function() {
        $('form').submit(function(event) {
            event.preventDefault();
            $.ajax({
                url: "{{ url_for('getArticlesByUrl') }}",
                type: 'POST',
                data: { 'article-url': $('#article-url').val() },
                dataType: 'json',
                success: function(response) {
                    $('.cards__item__text__main').text(response.bias);
                    $('.cards__item__text__desc').text(response.opposingArticles);
                },
                error: function(error) {
                    console.log(error);
                }
            });
        });
    });
    </script>

  </body>
</html>
